<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>es6 | gyz418</title>
    <meta name="generator" content="VuePress 1.5.2">
    
    <meta name="description" content="">
    <link rel="preload" href="/assets/css/0.styles.7c4bcbe6.css" as="style"><link rel="preload" href="/assets/js/app.6f322a7c.js" as="script"><link rel="preload" href="/assets/js/2.5281df64.js" as="script"><link rel="preload" href="/assets/js/12.ad66bd03.js" as="script"><link rel="prefetch" href="/assets/js/10.b5b78ec7.js"><link rel="prefetch" href="/assets/js/11.3979c63f.js"><link rel="prefetch" href="/assets/js/13.8c156ce0.js"><link rel="prefetch" href="/assets/js/14.d5aaf7c9.js"><link rel="prefetch" href="/assets/js/15.744185ba.js"><link rel="prefetch" href="/assets/js/16.b223ec11.js"><link rel="prefetch" href="/assets/js/17.27940440.js"><link rel="prefetch" href="/assets/js/18.2561b5d6.js"><link rel="prefetch" href="/assets/js/19.bab52827.js"><link rel="prefetch" href="/assets/js/20.64459c18.js"><link rel="prefetch" href="/assets/js/21.95850c08.js"><link rel="prefetch" href="/assets/js/22.8b92906a.js"><link rel="prefetch" href="/assets/js/23.a2fee047.js"><link rel="prefetch" href="/assets/js/24.a1a3b298.js"><link rel="prefetch" href="/assets/js/25.ba19b2b6.js"><link rel="prefetch" href="/assets/js/26.753266fe.js"><link rel="prefetch" href="/assets/js/27.ee58b5d1.js"><link rel="prefetch" href="/assets/js/28.611ffe65.js"><link rel="prefetch" href="/assets/js/29.d446cc43.js"><link rel="prefetch" href="/assets/js/3.d5898f06.js"><link rel="prefetch" href="/assets/js/30.71c0d378.js"><link rel="prefetch" href="/assets/js/31.43e00d33.js"><link rel="prefetch" href="/assets/js/32.a6757d5d.js"><link rel="prefetch" href="/assets/js/33.bfb83c0e.js"><link rel="prefetch" href="/assets/js/34.564690e0.js"><link rel="prefetch" href="/assets/js/35.77a7c9e4.js"><link rel="prefetch" href="/assets/js/36.5e974fda.js"><link rel="prefetch" href="/assets/js/37.f0956a85.js"><link rel="prefetch" href="/assets/js/38.c42b9666.js"><link rel="prefetch" href="/assets/js/39.7262da55.js"><link rel="prefetch" href="/assets/js/4.eb70c47d.js"><link rel="prefetch" href="/assets/js/40.95d088a9.js"><link rel="prefetch" href="/assets/js/41.f7067891.js"><link rel="prefetch" href="/assets/js/42.12cf6162.js"><link rel="prefetch" href="/assets/js/43.7970973b.js"><link rel="prefetch" href="/assets/js/44.701b85aa.js"><link rel="prefetch" href="/assets/js/45.4c06d258.js"><link rel="prefetch" href="/assets/js/46.e5e18c20.js"><link rel="prefetch" href="/assets/js/47.5d0f9322.js"><link rel="prefetch" href="/assets/js/48.03ad2213.js"><link rel="prefetch" href="/assets/js/49.65826398.js"><link rel="prefetch" href="/assets/js/5.8e0377fa.js"><link rel="prefetch" href="/assets/js/50.8a4a5a58.js"><link rel="prefetch" href="/assets/js/6.49592538.js"><link rel="prefetch" href="/assets/js/7.c7371c19.js"><link rel="prefetch" href="/assets/js/8.78f8209a.js"><link rel="prefetch" href="/assets/js/9.823e0afe.js">
    <link rel="stylesheet" href="/assets/css/0.styles.7c4bcbe6.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">gyz418</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><span class="title">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/前端/es6.html" class="nav-link">
  es6
</a></li><li class="dropdown-item"><!----> <a href="/前端/vue.html" class="nav-link">
  vue
</a></li><li class="dropdown-item"><!----> <a href="/前端/ts.html" class="nav-link">
  ts
</a></li><li class="dropdown-item"><!----> <a href="/前端/flutter.html" class="nav-link">
  flutter
</a></li><li class="dropdown-item"><!----> <a href="/前端/css.html" class="nav-link">
  css
</a></li><li class="dropdown-item"><!----> <a href="/前端/git.html" class="nav-link">
  git
</a></li><li class="dropdown-item"><!----> <a href="/前端/webpack.html" class="nav-link">
  webpack
</a></li><li class="dropdown-item"><!----> <a href="/前端/nodejs.html" class="nav-link">
  nodejs
</a></li><li class="dropdown-item"><!----> <a href="/前端/js优化.html" class="nav-link">
  js优化
</a></li><li class="dropdown-item"><!----> <a href="/前端/vue2源码.html" class="nav-link">
  vue2源码
</a></li><li class="dropdown-item"><!----> <a href="/前端/babel.html" class="nav-link">
  babel
</a></li><li class="dropdown-item"><!----> <a href="/前端/vue3.html" class="nav-link">
  vue3
</a></li><li class="dropdown-item"><!----> <a href="/前端/js设计模式.html" class="nav-link">
  js设计模式
</a></li><li class="dropdown-item"><!----> <a href="/前端/小程序.html" class="nav-link">
  小程序
</a></li><li class="dropdown-item"><!----> <a href="/前端/package.json.html" class="nav-link">
  package.json
</a></li><li class="dropdown-item"><!----> <a href="/前端/github.html" class="nav-link">
  github
</a></li><li class="dropdown-item"><!----> <a href="/前端/eslint.html" class="nav-link">
  eslint
</a></li><li class="dropdown-item"><!----> <a href="/前端/nestjs.html" class="nav-link">
  nestjs
</a></li><li class="dropdown-item"><!----> <a href="/前端/ueditor.html" class="nav-link">
  ueditor
</a></li><li class="dropdown-item"><!----> <a href="/typescript.html" class="nav-link">
  typescript
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端相关" class="dropdown-title"><span class="title">前端相关</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/gulp.html" class="nav-link">
  gulp
</a></li><li class="dropdown-item"><!----> <a href="/react.html" class="nav-link">
  react
</a></li><li class="dropdown-item"><!----> <a href="/js-tools.html" class="nav-link">
  js-tools
</a></li><li class="dropdown-item"><!----> <a href="/js特效.html" class="nav-link">
  js特效
</a></li><li class="dropdown-item"><!----> <a href="/old.html" class="nav-link">
  old
</a></li><li class="dropdown-item"><!----> <a href="/js概念.html" class="nav-link">
  js概念
</a></li><li class="dropdown-item"><!----> <a href="/jest.html" class="nav-link">
  jest
</a></li><li class="dropdown-item"><!----> <a href="/微前端.html" class="nav-link">
  微前端
</a></li><li class="dropdown-item"><!----> <a href="/service worker.html" class="nav-link">
  service worker
</a></li><li class="dropdown-item"><!----> <a href="/deno.html" class="nav-link">
  deno
</a></li><li class="dropdown-item"><!----> <a href="/swiper.html" class="nav-link">
  swiper
</a></li><li class="dropdown-item"><!----> <a href="/nginx.html" class="nav-link">
  nginx
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="其他" class="dropdown-title"><span class="title">其他</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/chrome.html" class="nav-link">
  chrome
</a></li><li class="dropdown-item"><!----> <a href="/vscode.html" class="nav-link">
  vscode
</a></li><li class="dropdown-item"><!----> <a href="/webstorm.html" class="nav-link">
  webstorm
</a></li><li class="dropdown-item"><!----> <a href="/url.html" class="nav-link">
  url
</a></li><li class="dropdown-item"><!----> <a href="/pc.html" class="nav-link">
  pc
</a></li><li class="dropdown-item"><!----> <a href="/festival.html" class="nav-link">
  festival
</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><span class="title">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/前端/es6.html" class="nav-link">
  es6
</a></li><li class="dropdown-item"><!----> <a href="/前端/vue.html" class="nav-link">
  vue
</a></li><li class="dropdown-item"><!----> <a href="/前端/ts.html" class="nav-link">
  ts
</a></li><li class="dropdown-item"><!----> <a href="/前端/flutter.html" class="nav-link">
  flutter
</a></li><li class="dropdown-item"><!----> <a href="/前端/css.html" class="nav-link">
  css
</a></li><li class="dropdown-item"><!----> <a href="/前端/git.html" class="nav-link">
  git
</a></li><li class="dropdown-item"><!----> <a href="/前端/webpack.html" class="nav-link">
  webpack
</a></li><li class="dropdown-item"><!----> <a href="/前端/nodejs.html" class="nav-link">
  nodejs
</a></li><li class="dropdown-item"><!----> <a href="/前端/js优化.html" class="nav-link">
  js优化
</a></li><li class="dropdown-item"><!----> <a href="/前端/vue2源码.html" class="nav-link">
  vue2源码
</a></li><li class="dropdown-item"><!----> <a href="/前端/babel.html" class="nav-link">
  babel
</a></li><li class="dropdown-item"><!----> <a href="/前端/vue3.html" class="nav-link">
  vue3
</a></li><li class="dropdown-item"><!----> <a href="/前端/js设计模式.html" class="nav-link">
  js设计模式
</a></li><li class="dropdown-item"><!----> <a href="/前端/小程序.html" class="nav-link">
  小程序
</a></li><li class="dropdown-item"><!----> <a href="/前端/package.json.html" class="nav-link">
  package.json
</a></li><li class="dropdown-item"><!----> <a href="/前端/github.html" class="nav-link">
  github
</a></li><li class="dropdown-item"><!----> <a href="/前端/eslint.html" class="nav-link">
  eslint
</a></li><li class="dropdown-item"><!----> <a href="/前端/nestjs.html" class="nav-link">
  nestjs
</a></li><li class="dropdown-item"><!----> <a href="/前端/ueditor.html" class="nav-link">
  ueditor
</a></li><li class="dropdown-item"><!----> <a href="/typescript.html" class="nav-link">
  typescript
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端相关" class="dropdown-title"><span class="title">前端相关</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/gulp.html" class="nav-link">
  gulp
</a></li><li class="dropdown-item"><!----> <a href="/react.html" class="nav-link">
  react
</a></li><li class="dropdown-item"><!----> <a href="/js-tools.html" class="nav-link">
  js-tools
</a></li><li class="dropdown-item"><!----> <a href="/js特效.html" class="nav-link">
  js特效
</a></li><li class="dropdown-item"><!----> <a href="/old.html" class="nav-link">
  old
</a></li><li class="dropdown-item"><!----> <a href="/js概念.html" class="nav-link">
  js概念
</a></li><li class="dropdown-item"><!----> <a href="/jest.html" class="nav-link">
  jest
</a></li><li class="dropdown-item"><!----> <a href="/微前端.html" class="nav-link">
  微前端
</a></li><li class="dropdown-item"><!----> <a href="/service worker.html" class="nav-link">
  service worker
</a></li><li class="dropdown-item"><!----> <a href="/deno.html" class="nav-link">
  deno
</a></li><li class="dropdown-item"><!----> <a href="/swiper.html" class="nav-link">
  swiper
</a></li><li class="dropdown-item"><!----> <a href="/nginx.html" class="nav-link">
  nginx
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="其他" class="dropdown-title"><span class="title">其他</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/chrome.html" class="nav-link">
  chrome
</a></li><li class="dropdown-item"><!----> <a href="/vscode.html" class="nav-link">
  vscode
</a></li><li class="dropdown-item"><!----> <a href="/webstorm.html" class="nav-link">
  webstorm
</a></li><li class="dropdown-item"><!----> <a href="/url.html" class="nav-link">
  url
</a></li><li class="dropdown-item"><!----> <a href="/pc.html" class="nav-link">
  pc
</a></li><li class="dropdown-item"><!----> <a href="/festival.html" class="nav-link">
  festival
</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>es6</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/%E9%9D%A2%E8%AF%95.html#es6" class="sidebar-link">es6</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/%E9%9D%A2%E8%AF%95.html#let" class="sidebar-link">let</a></li><li class="sidebar-sub-header"><a href="/%E9%9D%A2%E8%AF%95.html#const" class="sidebar-link">const</a></li><li class="sidebar-sub-header"><a href="/%E9%9D%A2%E8%AF%95.html#promise顺序" class="sidebar-link">promise顺序</a></li><li class="sidebar-sub-header"><a href="/%E9%9D%A2%E8%AF%95.html#promise-then原理" class="sidebar-link">promise.then原理</a></li><li class="sidebar-sub-header"><a href="/%E9%9D%A2%E8%AF%95.html#箭头函数" class="sidebar-link">箭头函数</a></li></ul></li><li><a href="/%E9%9D%A2%E8%AF%95.html#js" class="sidebar-link">js</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/%E9%9D%A2%E8%AF%95.html#输入url发生什么" class="sidebar-link">输入url发生什么</a></li><li class="sidebar-sub-header"><a href="/%E9%9D%A2%E8%AF%95.html#三次握手" class="sidebar-link">三次握手</a></li><li class="sidebar-sub-header"><a href="/%E9%9D%A2%E8%AF%95.html#http2的多路复用" class="sidebar-link">http2的多路复用</a></li><li class="sidebar-sub-header"><a href="/%E9%9D%A2%E8%AF%95.html#闭包" class="sidebar-link">闭包</a></li><li class="sidebar-sub-header"><a href="/%E9%9D%A2%E8%AF%95.html#深拷贝" class="sidebar-link">深拷贝</a></li><li class="sidebar-sub-header"><a href="/%E9%9D%A2%E8%AF%95.html#数组判断" class="sidebar-link">数组判断</a></li><li class="sidebar-sub-header"><a href="/%E9%9D%A2%E8%AF%95.html#apply-call-bind" class="sidebar-link">apply call bind</a></li><li class="sidebar-sub-header"><a href="/%E9%9D%A2%E8%AF%95.html#qiankun乾坤" class="sidebar-link">qiankun乾坤</a></li><li class="sidebar-sub-header"><a href="/%E9%9D%A2%E8%AF%95.html#柯里化" class="sidebar-link">柯里化</a></li><li class="sidebar-sub-header"><a href="/%E9%9D%A2%E8%AF%95.html#回流和重绘" class="sidebar-link">回流和重绘</a></li><li class="sidebar-sub-header"><a href="/%E9%9D%A2%E8%AF%95.html#作用域" class="sidebar-link">作用域</a></li><li class="sidebar-sub-header"><a href="/%E9%9D%A2%E8%AF%95.html#jsbridge原理" class="sidebar-link">jsBridge原理</a></li><li class="sidebar-sub-header"><a href="/%E9%9D%A2%E8%AF%95.html#drag拖拽" class="sidebar-link">drag拖拽</a></li><li class="sidebar-sub-header"><a href="/%E9%9D%A2%E8%AF%95.html#节流防抖" class="sidebar-link">节流防抖</a></li><li class="sidebar-sub-header"><a href="/%E9%9D%A2%E8%AF%95.html#rem" class="sidebar-link">rem</a></li><li class="sidebar-sub-header"><a href="/%E9%9D%A2%E8%AF%95.html#visibilitychange" class="sidebar-link">visibilitychange</a></li><li class="sidebar-sub-header"><a href="/%E9%9D%A2%E8%AF%95.html#提升json-stringify-性能" class="sidebar-link">提升JSON.stringify()性能</a></li><li class="sidebar-sub-header"><a href="/%E9%9D%A2%E8%AF%95.html#drag" class="sidebar-link">drag</a></li><li class="sidebar-sub-header"><a href="/%E9%9D%A2%E8%AF%95.html#xmlhttprequest-ajax-post" class="sidebar-link">xmlhttpRequest ajax post</a></li><li class="sidebar-sub-header"><a href="/%E9%9D%A2%E8%AF%95.html#js数据类型" class="sidebar-link">js数据类型</a></li><li class="sidebar-sub-header"><a href="/%E9%9D%A2%E8%AF%95.html#栈、队列" class="sidebar-link">栈、队列</a></li><li class="sidebar-sub-header"><a href="/%E9%9D%A2%E8%AF%95.html#typeof-instanceof-object-is" class="sidebar-link">typeof instanceof  object.is</a></li><li class="sidebar-sub-header"><a href="/%E9%9D%A2%E8%AF%95.html#dom和bom" class="sidebar-link">DOM和BOM</a></li><li class="sidebar-sub-header"><a href="/%E9%9D%A2%E8%AF%95.html#parseint" class="sidebar-link">parseInt</a></li><li class="sidebar-sub-header"><a href="/%E9%9D%A2%E8%AF%95.html#事件流" class="sidebar-link">事件流</a></li><li class="sidebar-sub-header"><a href="/%E9%9D%A2%E8%AF%95.html#事件模型" class="sidebar-link">事件模型</a></li><li class="sidebar-sub-header"><a href="/%E9%9D%A2%E8%AF%95.html#导致内存泄漏" class="sidebar-link">导致内存泄漏</a></li><li class="sidebar-sub-header"><a href="/%E9%9D%A2%E8%AF%95.html#垃圾回收机制" class="sidebar-link">垃圾回收机制</a></li><li class="sidebar-sub-header"><a href="/%E9%9D%A2%E8%AF%95.html#浏览器缓存" class="sidebar-link">浏览器缓存</a></li><li class="sidebar-sub-header"><a href="/%E9%9D%A2%E8%AF%95.html#event-loop" class="sidebar-link">event loop</a></li><li class="sidebar-sub-header"><a href="/%E9%9D%A2%E8%AF%95.html#axios中断请求" class="sidebar-link">axios中断请求</a></li><li class="sidebar-sub-header"><a href="/%E9%9D%A2%E8%AF%95.html#axios-原理" class="sidebar-link">axios 原理</a></li><li class="sidebar-sub-header"><a href="/%E9%9D%A2%E8%AF%95.html#es6-数组对象扩展" class="sidebar-link">es6 数组对象扩展</a></li><li class="sidebar-sub-header"><a href="/%E9%9D%A2%E8%AF%95.html#new做了什么-？" class="sidebar-link">new做了什么 ？</a></li><li class="sidebar-sub-header"><a href="/%E9%9D%A2%E8%AF%95.html#递归" class="sidebar-link">递归</a></li><li class="sidebar-sub-header"><a href="/%E9%9D%A2%E8%AF%95.html#可视区域" class="sidebar-link">可视区域</a></li><li class="sidebar-sub-header"><a href="/%E9%9D%A2%E8%AF%95.html#大文件断点续传" class="sidebar-link">大文件断点续传</a></li><li class="sidebar-sub-header"><a href="/%E9%9D%A2%E8%AF%95.html#虚拟列表" class="sidebar-link">虚拟列表</a></li><li class="sidebar-sub-header"><a href="/%E9%9D%A2%E8%AF%95.html#defer-async" class="sidebar-link">defer async</a></li><li class="sidebar-sub-header"><a href="/%E9%9D%A2%E8%AF%95.html#数组10万数据差异" class="sidebar-link">数组10万数据差异</a></li><li class="sidebar-sub-header"><a href="/%E9%9D%A2%E8%AF%95.html#symbol" class="sidebar-link">symbol</a></li><li class="sidebar-sub-header"><a href="/%E9%9D%A2%E8%AF%95.html#js小数计算" class="sidebar-link">js小数计算</a></li><li class="sidebar-sub-header"><a href="/%E9%9D%A2%E8%AF%95.html#代码题" class="sidebar-link">代码题</a></li><li class="sidebar-sub-header"><a href="/%E9%9D%A2%E8%AF%95.html#跨域" class="sidebar-link">跨域</a></li></ul></li><li><a href="/%E9%9D%A2%E8%AF%95.html#vue" class="sidebar-link">vue</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/%E9%9D%A2%E8%AF%95.html#vue2原理" class="sidebar-link">vue2原理</a></li><li class="sidebar-sub-header"><a href="/%E9%9D%A2%E8%AF%95.html#子组件和父组件的执行顺序" class="sidebar-link">子组件和父组件的执行顺序</a></li><li class="sidebar-sub-header"><a href="/%E9%9D%A2%E8%AF%95.html#vnode好处" class="sidebar-link">vnode好处</a></li><li class="sidebar-sub-header"><a href="/%E9%9D%A2%E8%AF%95.html#v-model原理" class="sidebar-link">v-model原理</a></li><li class="sidebar-sub-header"><a href="/%E9%9D%A2%E8%AF%95.html#provide-inject" class="sidebar-link">provide/inject</a></li><li class="sidebar-sub-header"><a href="/%E9%9D%A2%E8%AF%95.html#watch-和computed区别" class="sidebar-link">watch 和computed区别</a></li><li class="sidebar-sub-header"><a href="/%E9%9D%A2%E8%AF%95.html#v-for-v-if一起用弊端" class="sidebar-link">v-for v-if一起用弊端</a></li><li class="sidebar-sub-header"><a href="/%E9%9D%A2%E8%AF%95.html#动态组件" class="sidebar-link">动态组件</a></li><li class="sidebar-sub-header"><a href="/%E9%9D%A2%E8%AF%95.html#vue组件data为什么必须是函数？" class="sidebar-link">Vue组件data为什么必须是函数？</a></li><li class="sidebar-sub-header"><a href="/%E9%9D%A2%E8%AF%95.html#vue-use" class="sidebar-link">vue.use</a></li><li class="sidebar-sub-header"><a href="/%E9%9D%A2%E8%AF%95.html#nexttick原理" class="sidebar-link">nextTick原理</a></li><li class="sidebar-sub-header"><a href="/%E9%9D%A2%E8%AF%95.html#vue-router" class="sidebar-link">vue-router</a></li><li class="sidebar-sub-header"><a href="/%E9%9D%A2%E8%AF%95.html#预渲染" class="sidebar-link">预渲染</a></li><li class="sidebar-sub-header"><a href="/%E9%9D%A2%E8%AF%95.html#ssr" class="sidebar-link">ssr</a></li><li class="sidebar-sub-header"><a href="/%E9%9D%A2%E8%AF%95.html#vuex-面试" class="sidebar-link">vuex 面试</a></li><li class="sidebar-sub-header"><a href="/%E9%9D%A2%E8%AF%95.html#vite原理" class="sidebar-link">vite原理</a></li><li class="sidebar-sub-header"><a href="/%E9%9D%A2%E8%AF%95.html#webpack5插件" class="sidebar-link">webpack5插件</a></li><li class="sidebar-sub-header"><a href="/%E9%9D%A2%E8%AF%95.html#babel插件" class="sidebar-link">babel插件</a></li><li class="sidebar-sub-header"><a href="/%E9%9D%A2%E8%AF%95.html#pinia" class="sidebar-link">pinia</a></li><li class="sidebar-sub-header"><a href="/%E9%9D%A2%E8%AF%95.html#rollup3" class="sidebar-link">rollup3</a></li><li class="sidebar-sub-header"><a href="/%E9%9D%A2%E8%AF%95.html#vue3原理-mini版" class="sidebar-link">vue3原理 mini版</a></li><li class="sidebar-sub-header"><a href="/%E9%9D%A2%E8%AF%95.html#vnode" class="sidebar-link">vnode</a></li><li class="sidebar-sub-header"><a href="/%E9%9D%A2%E8%AF%95.html#vue3比vue2好在哪里" class="sidebar-link">vue3比vue2好在哪里</a></li><li class="sidebar-sub-header"><a href="/%E9%9D%A2%E8%AF%95.html#vue-key作用" class="sidebar-link">vue key作用</a></li><li class="sidebar-sub-header"><a href="/%E9%9D%A2%E8%AF%95.html#vue-指令" class="sidebar-link">vue 指令</a></li></ul></li><li><a href="/%E9%9D%A2%E8%AF%95.html#css" class="sidebar-link">css</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/%E9%9D%A2%E8%AF%95.html#bfc" class="sidebar-link">BFC</a></li></ul></li><li><a href="/%E9%9D%A2%E8%AF%95.html#算法" class="sidebar-link">算法</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/%E9%9D%A2%E8%AF%95.html#动态规划" class="sidebar-link">动态规划</a></li><li class="sidebar-sub-header"><a href="/%E9%9D%A2%E8%AF%95.html#贪心算法" class="sidebar-link">贪心算法</a></li><li class="sidebar-sub-header"><a href="/%E9%9D%A2%E8%AF%95.html#冒泡排序" class="sidebar-link">冒泡排序</a></li><li class="sidebar-sub-header"><a href="/%E9%9D%A2%E8%AF%95.html#二分查找" class="sidebar-link">二分查找</a></li><li class="sidebar-sub-header"><a href="/%E9%9D%A2%E8%AF%95.html#插入排序" class="sidebar-link">插入排序</a></li></ul></li><li><a href="/%E9%9D%A2%E8%AF%95.html#react" class="sidebar-link">react</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/%E9%9D%A2%E8%AF%95.html#webpack" class="sidebar-link">webpack</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/%E9%9D%A2%E8%AF%95.html#webpack热更新原理" class="sidebar-link">webpack热更新原理</a></li><li class="sidebar-sub-header"><a href="/%E9%9D%A2%E8%AF%95.html#webpack插件" class="sidebar-link">webpack插件</a></li></ul></li><li><a href="/%E9%9D%A2%E8%AF%95.html#微信小程序" class="sidebar-link">微信小程序</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/%E9%9D%A2%E8%AF%95.html#其他" class="sidebar-link">其他</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/%E9%9D%A2%E8%AF%95.html#错误监控" class="sidebar-link">错误监控</a></li><li class="sidebar-sub-header"><a href="/%E9%9D%A2%E8%AF%95.html#性能监控" class="sidebar-link">性能监控</a></li><li class="sidebar-sub-header"><a href="/%E9%9D%A2%E8%AF%95.html#前端安全" class="sidebar-link">前端安全</a></li><li class="sidebar-sub-header"><a href="/%E9%9D%A2%E8%AF%95.html#h5秒开方案" class="sidebar-link">h5秒开方案</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="es6"><a href="#es6" class="header-anchor">#</a> es6</h2> <h3 id="let"><a href="#let" class="header-anchor">#</a> let</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token number">1.</span> 不存在变量提升
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>foo<span class="token punctuation">)</span> <span class="token comment">// undefined</span>
<span class="token keyword">var</span> foo<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">;</span>

consol<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>bar<span class="token punctuation">)</span> <span class="token comment">// referenceError  报错</span>
<span class="token keyword">let</span> bar <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>

<span class="token number">2.</span> 在代码块内有效
<span class="token punctuation">{</span>
    <span class="token keyword">let</span> a<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span><span class="token operator">...</span><span class="token punctuation">;</span><span class="token operator">...</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token number">3.</span> 暂时性死区
在代码内，使用<span class="token keyword">let</span>声明变量之前，该变量不可用
<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    a<span class="token operator">=</span><span class="token number">123</span>'<span class="token punctuation">;</span>   <span class="token comment">// referenceError</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>
    <span class="token keyword">let</span> a<span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// undefined</span>
<span class="token punctuation">}</span>
暂时性死区和不存在变量提升都是为了减少运行时错误
<span class="token number">4.</span> 块级作用域
<span class="token keyword">function</span> <span class="token function">f1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> n <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> n <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 5</span>
<span class="token punctuation">}</span>
es6允许在块级作用域内声明函数，要避免。因为es5不允许。
</code></pre></div><h3 id="const"><a href="#const" class="header-anchor">#</a> const</h3> <div class="language-js extra-class"><pre class="language-js"><code>变量指向的内存地址
<span class="token keyword">const</span> obj<span class="token operator">=</span><span class="token punctuation">{</span>a<span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">}</span>
obj<span class="token punctuation">.</span>a<span class="token operator">=</span><span class="token number">2</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>a<span class="token punctuation">)</span> <span class="token comment">// 2</span>
obj<span class="token punctuation">.</span>b<span class="token operator">=</span><span class="token number">3</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>b<span class="token punctuation">)</span> <span class="token comment">// 3</span>
obj<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">}</span>  <span class="token comment">// 不能重新赋值</span>
</code></pre></div><h3 id="promise顺序"><a href="#promise顺序" class="header-anchor">#</a> promise顺序</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> p <span class="token operator">=</span> Promise<span class="token punctuation">.</span><span class="token function">reslove</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">function</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  p<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'promise'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
<span class="token comment">//  1 2 'promise'</span>
</code></pre></div><p>demo2</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> p <span class="token operator">=</span> Promise<span class="token punctuation">.</span><span class="token function">reslove</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">function</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  p<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'promise'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">// 1 1 promise promise</span>
</code></pre></div><p>demo3</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> p <span class="token operator">=</span> Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> isOk <span class="token operator">=</span> <span class="token boolean">false</span>
<span class="token keyword">function</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span>isOk<span class="token punctuation">)</span> <span class="token keyword">return</span>
  isOk <span class="token operator">=</span> <span class="token boolean">true</span>     <span class="token comment">// 限制执行次数</span>
  p<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'promise'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">finally</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    isOk <span class="token operator">=</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">// 1 1 1 1 1  1 1 promise</span>
</code></pre></div><p>demo4</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span>rejct</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
        <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">2000</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span>
<span class="token comment">// 1 4 2 3</span>
</code></pre></div><h3 id="promise-then原理"><a href="#promise-then原理" class="header-anchor">#</a> promise.then原理</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">MyPromise</span><span class="token punctuation">{</span>
  <span class="token function">constructor</span> <span class="token punctuation">(</span><span class="token parameter">cb</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token function">cb</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>resolve<span class="token punctuation">)</span>   <span class="token comment">// 构造函数执行</span>
  <span class="token punctuation">}</span>
  <span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>result <span class="token operator">=</span> <span class="token keyword">null</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token string">'pending'</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>resolve <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span><span class="token punctuation">{</span>         <span class="token comment">// 保存状态和值</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token operator">=</span><span class="token string">'fulfilled'</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>result <span class="token operator">=</span> value
  <span class="token punctuation">}</span>
  <span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">cb2</span><span class="token punctuation">)</span><span class="token punctuation">{</span>             <span class="token comment">// 返回保存的值</span>
    <span class="token function">cb2</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>result<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">new</span> <span class="token class-name">MyPromise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span>reject</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
  <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>  
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'res'</span><span class="token punctuation">,</span>res<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// 10</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p><a href="https://juejin.cn/post/6994594642280857630" target="_blank" rel="noopener noreferrer">参考<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p>链式调用：把then 包装成一个promise并返回</p> <p>demo2</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">MyPromise</span> <span class="token punctuation">(</span><span class="token parameter">fn</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>fns <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>

  <span class="token keyword">this</span><span class="token punctuation">.</span>status <span class="token operator">=</span> <span class="token string">'pedding'</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token keyword">null</span> <span class="token comment">// 传参</span>
  <span class="token function">fn</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_resolve</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_reject</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token class-name">MyPromise</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token punctuation">{</span>
  constructor<span class="token operator">:</span> MyPromise<span class="token punctuation">,</span>

  <span class="token function-variable function">then</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">thenfn</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'then'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// this.fns = thenfn</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>status <span class="token operator">===</span> <span class="token string">'pedding'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>fns<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>thenfn<span class="token punctuation">)</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      <span class="token function">thenfn</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>value<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>

  <span class="token function-variable function">_resolve</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'resolve'</span><span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">.</span>fns<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// if (this.fns) this.fns()</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>status <span class="token operator">=</span> <span class="token string">'full'</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>value<span class="token operator">=</span>value
    <span class="token keyword">this</span><span class="token punctuation">.</span>fns<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">fn</span> <span class="token operator">=&gt;</span> <span class="token function">fn</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment">// 异步时用到</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>

  <span class="token function-variable function">_reject</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">new</span> <span class="token class-name">MyPromise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
      <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">2000</span><span class="token punctuation">)</span>
  <span class="token comment">// resolve()</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

</code></pre></div><h3 id="箭头函数"><a href="#箭头函数" class="header-anchor">#</a> 箭头函数</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// es6</span>
<span class="token keyword">function</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
 <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>  <span class="token comment">// 箭头函数没有自己的this,导致内部的this就是外层代码块的this</span>
   console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>a<span class="token punctuation">)</span>
 <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token comment">// 转为es5</span>
<span class="token string">&quot;use strict&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> _this <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>

  <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>_this<span class="token punctuation">.</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>不适应场合</p> <ol><li>定义对象的方法，不能含this</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> cat <span class="token operator">=</span> <span class="token punctuation">{</span>
  lives<span class="token operator">:</span> <span class="token number">9</span><span class="token punctuation">,</span>
  <span class="token function-variable function">jumps</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>lives<span class="token operator">--</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span> <span class="token comment">// 对象不构成单独的作用域, this是指向全局对象</span>
</code></pre></div><ol start="2"><li>需要动态this时，不使用箭头函数</li></ol> <div class="language-js extra-class"><pre class="language-js"><code>   <span class="token keyword">var</span> button <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'press'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   button<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
     <span class="token keyword">this</span><span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">toggle</span><span class="token punctuation">(</span><span class="token string">'on'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// this指向全局对象</span>
   <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">// 普通函数会动态指向被点击的按钮</span>
</code></pre></div><h2 id="js"><a href="#js" class="header-anchor">#</a> js</h2> <h3 id="输入url发生什么"><a href="#输入url发生什么" class="header-anchor">#</a> 输入url发生什么</h3> <div class="language- extra-class"><pre class="language-text"><code>1. 查看缓存
2. 域名解析，获取IP地址
3. 建立tcp连接，
4. http连接
5. 接口获取数据
</code></pre></div><h3 id="三次握手"><a href="#三次握手" class="header-anchor">#</a> 三次握手</h3> <p><img src="https://user-images.githubusercontent.com/21079721/96951415-0828e780-151f-11eb-93a3-e2e8045d456d.png" alt="三次握手"></p> <p><a href="https://github.com/Advanced-Frontend/Daily-Interview-Question/issues/15" target="_blank" rel="noopener noreferrer">参考<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h3 id="http2的多路复用"><a href="#http2的多路复用" class="header-anchor">#</a> http2的多路复用</h3> <div class="language- extra-class"><pre class="language-text"><code>http2采用二进制格式传输，http1.x是文本格式
http2多路复用：所有相同域名请求都是通过同一个TCP连接并发完成
http1.x,并发多个请求需要多个TCP连接，浏览器控制6-8个TCP连接
</code></pre></div><p><a href="https://github.com/Advanced-Frontend/Daily-Interview-Question/issues/14" target="_blank" rel="noopener noreferrer">参考<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h3 id="闭包"><a href="#闭包" class="header-anchor">#</a> 闭包</h3> <div class="language- extra-class"><pre class="language-text"><code>函数又返回一个函数，叫闭包
函数A中,有一个函数B,函数B中可以访问函数A中定义的变量或者是数据,此时形成了闭包
闭包的优点和缺点:缓存数据
函数闭包   返回一个函数,函数里再返回
函数闭包  返回一个对象
</code></pre></div><p>https://www.cnblogs.com/gyz418/p/10057216.html</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">a</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="深拷贝"><a href="#深拷贝" class="header-anchor">#</a> 深拷贝</h3> <p>赋值、浅拷贝、深拷贝</p> <p>赋值：直接赋值，数据全引用</p> <p>浅拷贝：只复制基本数据类型，基本数据会更新，数据对象还是引用</p> <p>深拷贝：递归全复制，数据完全独立</p> <p>最简浅拷贝：  Object.assign()      Array.prototype.concat()    Array.prototype.slice()</p> <p>最简深拷贝： JSON.parse(JSON.stringify(obj))  不支持的情况:</p> <div class="language- extra-class"><pre class="language-text"><code>const obj = {
    nan:NaN,
    infinityMax:1.7976931348623157E+10308,
    infinityMin:-1.7976931348623157E+10308,
    undef: undefined,
    fun: () =&gt; { console.log('xxx') },
    date:new Date,
}
</code></pre></div><p><a href="https://juejin.cn/post/7113829141392130078" target="_blank" rel="noopener noreferrer">参考<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p>函数库 lodash _.cloneDeep</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> obj1 <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span><span class="token string">'haha'</span><span class="token punctuation">,</span>
  msg<span class="token operator">:</span><span class="token punctuation">{</span>
    age<span class="token operator">:</span><span class="token number">12</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">// 浅拷贝</span>
<span class="token keyword">function</span> <span class="token function">shallowCopy</span><span class="token punctuation">(</span><span class="token parameter">src</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> prop <span class="token keyword">in</span> src<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>src<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span>prop<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      obj<span class="token punctuation">[</span>prop<span class="token punctuation">]</span> <span class="token operator">=</span> src<span class="token punctuation">[</span>prop<span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> obj<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> obj2 <span class="token operator">=</span> <span class="token function">shallowCopy</span><span class="token punctuation">(</span>obj1<span class="token punctuation">)</span>
obj2<span class="token punctuation">.</span>name<span class="token operator">=</span><span class="token string">'222'</span>
obj2<span class="token punctuation">.</span>msg<span class="token punctuation">.</span>age<span class="token operator">=</span><span class="token number">13</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj1<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj2<span class="token punctuation">)</span>

<span class="token comment">// 深拷贝</span>
<span class="token keyword">function</span> <span class="token function">deepCopy</span><span class="token punctuation">(</span><span class="token parameter">src</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> prop <span class="token keyword">in</span> src<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">let</span> val <span class="token operator">=</span> src<span class="token punctuation">[</span>prop<span class="token punctuation">]</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>val <span class="token keyword">instanceof</span> <span class="token class-name">Array</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      obj<span class="token punctuation">[</span>prop<span class="token punctuation">]</span><span class="token operator">=</span><span class="token function">deepCopy</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>val <span class="token keyword">instanceof</span> <span class="token class-name">Object</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      obj<span class="token punctuation">[</span>prop<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">deepCopy</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>
      obj<span class="token punctuation">[</span>prop<span class="token punctuation">]</span> <span class="token operator">=</span> val
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> obj
<span class="token punctuation">}</span>
<span class="token keyword">let</span> obj3 <span class="token operator">=</span> <span class="token function">deepCopy</span><span class="token punctuation">(</span>obj1<span class="token punctuation">)</span>
obj3<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'4444'</span>
obj3<span class="token punctuation">.</span>msg<span class="token punctuation">.</span>age<span class="token operator">=</span><span class="token number">14</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj3<span class="token punctuation">)</span>



<span class="token keyword">let</span> arr4<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span>
<span class="token keyword">let</span> arr5 <span class="token operator">=</span> arr4 

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr5<span class="token punctuation">)</span>
arr5<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">]</span>   <span class="token comment">// 重新赋值了，就断开引用了</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr5<span class="token punctuation">)</span> <span class="token comment">// 6 7 8</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr4<span class="token punctuation">)</span> <span class="token comment">// 1 2 3</span>
</code></pre></div><p><a href="https://segmentfault.com/a/1190000018874254" target="_blank" rel="noopener noreferrer">参考<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p>深拷贝另一个实现方式，效果一致</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//通过函数实现,把对象a中的所有的数据深拷贝到对象b中</span>
<span class="token keyword">function</span> <span class="token function">extend111</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span>b</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> key <span class="token keyword">in</span> a<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">//先获取a对象中每个属性的值</span>
    <span class="token keyword">var</span> item<span class="token operator">=</span>a<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token comment">//判断这个属性的值是不是数组</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>item <span class="token keyword">instanceof</span> <span class="token class-name">Array</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token comment">//如果是数组,那么在b对象中添加一个新的属性,并且这个属性值也是数组</span>
      b<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
      <span class="token comment">//调用这个方法，把a对象中这个数组的属性值一个一个的复制到b对象的这个数组属性中</span>
      <span class="token function">extend</span><span class="token punctuation">(</span>item<span class="token punctuation">,</span>b<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>item <span class="token keyword">instanceof</span> <span class="token class-name">Object</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token comment">//判断这个值是不是对象类型的</span>
      <span class="token comment">//如果是对象类型的,那么在b对象中添加一个属性,是一个空对象</span>
      b<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
      <span class="token comment">//再次调用这个函数,把a对象中的属性对象的值一个一个的复制到b对象的这个属性对象中</span>
      <span class="token function">extend</span><span class="token punctuation">(</span>item<span class="token punctuation">,</span>b<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>
      <span class="token comment">//如果值是普通的数据,直接复制到b对象的这个属性中</span>
      b<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token operator">=</span>item<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="数组判断"><a href="#数组判断" class="header-anchor">#</a> 数组判断</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">'[object Array]'</span>  <span class="token comment">// 后面 object是小写</span>
</code></pre></div><h3 id="apply-call-bind"><a href="#apply-call-bind" class="header-anchor">#</a> apply call bind</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">fn</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>   <span class="token function">fn</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span>val<span class="token punctuation">,</span>val<span class="token punctuation">)</span> <span class="token function">fn</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span>val<span class="token punctuation">,</span>val<span class="token punctuation">)</span>  
</code></pre></div><h3 id="qiankun乾坤"><a href="#qiankun乾坤" class="header-anchor">#</a> qiankun乾坤</h3> <div class="language- extra-class"><pre class="language-text"><code>跳项目，注册子应用，监听路由。
资源加载，应用隔离
</code></pre></div><h3 id="柯里化"><a href="#柯里化" class="header-anchor">#</a> 柯里化</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">add</span><span class="token operator">=</span><span class="token parameter">x</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
	<span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">y</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		<span class="token keyword">return</span> x<span class="token operator">+</span>y
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="回流和重绘"><a href="#回流和重绘" class="header-anchor">#</a> 回流和重绘</h3> <div class="language- extra-class"><pre class="language-text"><code>回流：元素内容发生变化，尺寸位置，浏览器窗口大小变化 clientWidth scrollTo
重绘：颜色变化
回流必重绘
避免table布局，避免频繁读取cliebtWidth
</code></pre></div><h3 id="作用域"><a href="#作用域" class="header-anchor">#</a> 作用域</h3> <div class="language- extra-class"><pre class="language-text"><code>函数里可以调函数外
</code></pre></div><h3 id="jsbridge原理"><a href="#jsbridge原理" class="header-anchor">#</a> jsBridge原理</h3> <div class="language- extra-class"><pre class="language-text"><code>以webview为媒介，协定协议进行通信
web调原生， 原生可以拦截webview里面的js方法
原生调web,  原生可以直接调用js
</code></pre></div><h3 id="drag拖拽"><a href="#drag拖拽" class="header-anchor">#</a> drag拖拽</h3> <p>拖拽 dragstart dragend  dragenter drageleave</p> <h3 id="节流防抖"><a href="#节流防抖" class="header-anchor">#</a> 节流防抖</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 节流 一段时间只运行一次   // 滚动监听</span>
<span class="token keyword">const</span> <span class="token function-variable function">throttle</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">func<span class="token punctuation">,</span> wait <span class="token operator">=</span> <span class="token number">50</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> lastTime <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>args</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> now <span class="token operator">=</span> <span class="token operator">+</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>now <span class="token operator">-</span> lastTime <span class="token operator">&gt;</span> wait<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      lastTime <span class="token operator">=</span> now
      <span class="token function">func</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span>args<span class="token punctuation">)</span>  <span class="token comment">// 执行</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// 防抖  最后停止操作时执行     // 表单输入搜索</span>
<span class="token keyword">const</span> <span class="token function-variable function">debounce</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">func<span class="token punctuation">,</span>wait<span class="token operator">=</span><span class="token number">50</span></span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'===onscroll会执行很多次，会不断地clearTimeout和 setTimeout赋值===，最后停止j是setTimeout赋值'</span><span class="token punctuation">)</span>
    <span class="token keyword">let</span> timer <span class="token operator">=</span> <span class="token keyword">null</span>
    <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>timer<span class="token punctuation">)</span> <span class="token function">clearTimeout</span><span class="token punctuation">(</span>timer<span class="token punctuation">)</span>
        timer <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span>func<span class="token punctuation">,</span>wait<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
window<span class="token punctuation">.</span>onscroll<span class="token operator">=</span><span class="token function">function2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>  这里是传个函数，所以防抖返回一个函数，window<span class="token punctuation">.</span>onscroll会一直执行<span class="token punctuation">,</span>那么 timer会一直先清空，一直再赋值setTimeout<span class="token punctuation">,</span>  当停止操作时，timer最后是赋值setTimeout，达到了最后停止操作时执行
</code></pre></div><p><a href="jianshu.com/p/e76a20fb1dbf">参考</a></p> <p>防抖/节流demo</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token doctype">&lt;!DOCTYPE html&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>en<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>UTF-8<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
防抖aa:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>a<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">/&gt;</span></span>
防抖bb:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>b<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">/&gt;</span></span>
节流:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>c<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">function</span> <span class="token function">debounce</span><span class="token punctuation">(</span><span class="token parameter">fn<span class="token punctuation">,</span>delay<span class="token operator">=</span><span class="token number">500</span></span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token function">clearTimeout</span><span class="token punctuation">(</span>fn<span class="token punctuation">.</span>id<span class="token punctuation">)</span>
      fn<span class="token punctuation">.</span>id <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span>fn<span class="token punctuation">,</span>delay<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">function</span> <span class="token function">debounce2</span><span class="token punctuation">(</span><span class="token parameter">fun<span class="token punctuation">,</span> delay<span class="token operator">=</span><span class="token number">500</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">args</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">let</span> that <span class="token operator">=</span> <span class="token keyword">this</span>
      <span class="token keyword">let</span> _args <span class="token operator">=</span> args
      <span class="token function">clearTimeout</span><span class="token punctuation">(</span>fun<span class="token punctuation">.</span>id<span class="token punctuation">)</span>
      fun<span class="token punctuation">.</span>id <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">fun</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>that<span class="token punctuation">,</span> _args<span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span> delay<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">function</span> <span class="token function">throttle</span><span class="token punctuation">(</span><span class="token parameter">fn<span class="token punctuation">,</span>delay<span class="token operator">=</span><span class="token number">500</span></span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">let</span> last <span class="token operator">=</span> <span class="token number">0</span>
    <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token keyword">let</span> now <span class="token operator">=</span> <span class="token operator">+</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token keyword">if</span><span class="token punctuation">(</span>now<span class="token operator">-</span>last<span class="token operator">&gt;</span>delay<span class="token punctuation">)</span><span class="token punctuation">{</span>
        last <span class="token operator">=</span> now
        <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'input'</span><span class="token punctuation">,</span><span class="token function">debounce</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'b'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'input'</span><span class="token punctuation">,</span><span class="token function">debounce2</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
 document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'c'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'input'</span><span class="token punctuation">,</span><span class="token function">throttle</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">222</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>

</code></pre></div><p><a href="https://juejin.cn/post/6844903669389885453" target="_blank" rel="noopener noreferrer">参考<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h3 id="rem"><a href="#rem" class="header-anchor">#</a> rem</h3> <div class="language- extra-class"><pre class="language-text"><code>设置html根的字体大小，为document.documentElement.clientWidth/10 = 41.4  
let w = document.documentElement.clientWidth / 10
      document.documentElement.style.fontSize = w + 'px'
字体转换成rem,  设置pxToRem值为75，   设计稿为7
实现逻辑
1. 设置html根字体大小
2. 转成rem
</code></pre></div><h3 id="visibilitychange"><a href="#visibilitychange" class="header-anchor">#</a> visibilitychange</h3> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">let</span> hidden <span class="token operator">=</span> <span class="token string">'hidden'</span>  <span class="token comment">// 可能要把let改为var？</span>
    <span class="token keyword">let</span> visibilityChange <span class="token operator">=</span> <span class="token string">'visibilitychange'</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'document.hidden'</span><span class="token punctuation">,</span>document<span class="token punctuation">.</span>hidden<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> document<span class="token punctuation">.</span>hidden <span class="token operator">!==</span> <span class="token string">'undefined'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        hidden <span class="token operator">=</span> <span class="token string">'hidden'</span>
        visibilityChange <span class="token operator">=</span> <span class="token string">'visibilitychange'</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        hidden <span class="token operator">=</span> <span class="token string">'webkitHidden'</span>
        visibilityChange <span class="token operator">=</span> <span class="token string">'webkitvisibilitychange'</span>
    <span class="token punctuation">}</span>
    document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span>visibilityChange<span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
        <span class="token keyword">let</span> hide <span class="token operator">=</span> document<span class="token punctuation">[</span>hidden<span class="token punctuation">]</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>hide<span class="token punctuation">)</span><span class="token punctuation">{</span>
          console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'show'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token boolean">false</span><span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="提升json-stringify-性能"><a href="#提升json-stringify-性能" class="header-anchor">#</a> 提升JSON.stringify()性能</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 属性访问、字符串拼接</span>
<span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>a<span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span>b<span class="token operator">:</span><span class="token number">2</span><span class="token punctuation">}</span>
<span class="token keyword">let</span> res <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span>

<span class="token keyword">function</span> <span class="token function">myString</span><span class="token punctuation">(</span><span class="token parameter">obj</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string">'{&quot;a&quot;:'</span><span class="token operator">+</span>obj<span class="token punctuation">.</span>a<span class="token operator">+</span><span class="token string">',&quot;b&quot;:'</span><span class="token operator">+</span>obj<span class="token punctuation">.</span>b<span class="token operator">+</span><span class="token string">'}'</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> res2 <span class="token operator">=</span> <span class="token function">myString</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res2<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>res2<span class="token punctuation">)</span><span class="token punctuation">.</span>a<span class="token punctuation">)</span>
<span class="token comment">// 库</span>
slow<span class="token operator">-</span>json<span class="token operator">-</span>stringify
</code></pre></div><p><a href="https://mp.weixin.qq.com/s/WjYUyo2mTrjBbUD2oXxK2Q" target="_blank" rel="noopener noreferrer">参考<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h3 id="drag"><a href="#drag" class="header-anchor">#</a> drag</h3> <h3 id="xmlhttprequest-ajax-post"><a href="#xmlhttprequest-ajax-post" class="header-anchor">#</a> xmlhttpRequest ajax post</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">ajax</span> <span class="token punctuation">(</span><span class="token parameter">obj</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> <span class="token constant">URL</span><span class="token operator">=</span><span class="token string">''</span>
  <span class="token keyword">let</span> xmlhttp <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">XMLHttpRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  xmlhttp<span class="token punctuation">.</span><span class="token function-variable function">onreadystatechange</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>xmlhttp<span class="token punctuation">.</span>readyState <span class="token operator">===</span> <span class="token number">4</span> <span class="token operator">&amp;&amp;</span> xmlhttp<span class="token punctuation">.</span>status <span class="token operator">===</span> <span class="token number">200</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// 请求成功</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>xmlhttp<span class="token punctuation">.</span>responseText<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  xmlhttp<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">&quot;post&quot;</span><span class="token punctuation">,</span> <span class="token constant">URL</span><span class="token operator">+</span> <span class="token string">'api/xxx'</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 设置请求头 </span>
    <span class="token comment">// 默认用字符串拼接的形式 application/x-www-form-urlencoded</span>
  xmlhttp<span class="token punctuation">.</span><span class="token function">setRequestHeader</span><span class="token punctuation">(</span><span class="token string">&quot;Content-type&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;application/x-www-form-urlencoded&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 改用json形式</span>
  <span class="token comment">//xmlhttp.setRequestHeader(&quot;Content-type&quot;, &quot;application/json&quot;); </span>
  xmlhttp<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">&quot;res=&quot;</span> <span class="token operator">+</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="js数据类型"><a href="#js数据类型" class="header-anchor">#</a> js数据类型</h3> <div class="language- extra-class"><pre class="language-text"><code>8个 undefined null boolean string number object symbol bigint
栈： 原始数据类型   先进后出
堆： 引用数据类型
</code></pre></div><h3 id="栈、队列"><a href="#栈、队列" class="header-anchor">#</a> 栈、队列</h3> <p>栈：先进后出</p> <p>队列：先进先出  排队</p> <h3 id="typeof-instanceof-object-is"><a href="#typeof-instanceof-object-is" class="header-anchor">#</a> typeof instanceof  object.is</h3> <p>数组 对象  null 都是 object   用 instanceof来判断</p> <p>object.is 一般和===一样  两个NaN是相等的</p> <p>判断空对象 Object.keys({}).length  Object.keys([]).length</p> <h3 id="dom和bom"><a href="#dom和bom" class="header-anchor">#</a> DOM和BOM</h3> <div class="language- extra-class"><pre class="language-text"><code>DOM是 document文档对象模型，把文档当成一个对象
BOM是 核心是window  浏览器对象模型
</code></pre></div><h3 id="parseint"><a href="#parseint" class="header-anchor">#</a> parseInt</h3> <div class="language- extra-class"><pre class="language-text"><code>parseInt('1a') // 1
parseInt('a1') // NaN
</code></pre></div><h3 id="事件流"><a href="#事件流" class="header-anchor">#</a> 事件流</h3> <p>事件流首先是经过事件捕获阶段，接着是处于目标阶段，最后是事件冒泡阶段</p> <img src="https://pic2.zhimg.com/80/v2-c98712fd0f353e603c92af3902dd9cd5_720w.jpg" alt="冒泡" style="zoom:70%;"> <p>第三个参数布尔值如果是true，表示在捕获阶段调用事件处理程序；如果是false，表示在冒泡阶段调用事件处理程序。 true执行事件</p> <p>应用</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>a<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>a<span class="token punctuation">&quot;</span></span> <span class="token attr-name">v-login-click</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>b<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>b<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>c<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>c<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>d<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>d<span class="token punctuation">&quot;</span></span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">'</span>test<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">const</span> <span class="token function-variable function">fn</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
        e<span class="token punctuation">.</span><span class="token function">stopPropagation</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 阻止冒泡,阻止test事件</span>
    <span class="token punctuation">}</span>
	document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span>fn<span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">)</span>  <span class="token comment">// true在捕获阶段就执行fn,</span>

   <span class="token function">onMounted</span><span class="token punctuation">(</span>test<span class="token punctuation">)</span>
    <span class="token keyword">function</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'d'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'d'</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token boolean">false</span><span class="token punctuation">)</span>
      <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token boolean">false</span><span class="token punctuation">)</span>
        <span class="token comment">// 默认false,在冒泡阶段从里往外执行，  d a</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">function</span> <span class="token function">test2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'d'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'d'</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">)</span>
      <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">)</span>
        <span class="token comment">// 改为true,在捕获阶段从外往里执行，  a</span>
    <span class="token punctuation">}</span>

</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="事件模型"><a href="#事件模型" class="header-anchor">#</a> 事件模型</h3> <div class="language- extra-class"><pre class="language-text"><code>原始模型 onclick
标准模型 addEventListener
</code></pre></div><h3 id="导致内存泄漏"><a href="#导致内存泄漏" class="header-anchor">#</a> 导致内存泄漏</h3> <div class="language- extra-class"><pre class="language-text"><code>使用未声明的变量，意外的创建全局变量
定时器
获取DOM元素后，元素被删除
闭包
</code></pre></div><h3 id="垃圾回收机制"><a href="#垃圾回收机制" class="header-anchor">#</a> 垃圾回收机制</h3> <div class="language- extra-class"><pre class="language-text"><code>标记清除：  var a = 1 标记进入环境 console.log('end')执行完 标志为离开环境
引用记数： var arr = [1,2,3]  arr数组引用，引用次数为1 通过设置 arr=null取消引用 才能被垃圾回收

</code></pre></div><h3 id="浏览器缓存"><a href="#浏览器缓存" class="header-anchor">#</a> 浏览器缓存</h3> <p>强缓存 expired 本地时间     不用请求
cache-control</p> <p>协商缓存 last-modified if-modified 精确到秒   要发304请求
etag 内容hash</p> <p>缓存html,css,img，不用请求http, 节省带宽，省钱</p> <p>【全部是后端设置，前端看效果】</p> <p>请求资源时，先判断是否强缓存</p> <div class="language- extra-class"><pre class="language-text"><code>基于Expireds的强缓存（依赖本地时间，已淘汰）
基于Cache-control的强缓存 ，类似： Cache-control:max-age=10000,s-maxage=200000,public
基于last-modified的协商缓存 ，必须设置 Cache-control:no-cache
基于ETag的协商缓存
发现有If-None-Match，则比较 If-None-Match 和 Etag 值，忽略If-Modified-Since的比较。
</code></pre></div><ol><li><p>强缓存</p> <ol><li><p>expires  http1.0过期时间:  首次发起请求的时候， 服务端会在Response Header当中设置expires字段，是具体时间。再次请求就对比本地时间有没有过期，来决定是否缓存。依赖本地时间，【少用】</p></li> <li><p>Cache-control  http1.1 【用这个】</p> <p>服务端的时间和本地时间会存在误差，出现cache-control，是相对时间</p> <p>max-age/s-maxage</p> <p>max-age=315360000 （设置缓存的最大有效期，秒）   优先级比 expires 高</p> <p>s-maxage 代理服务器缓存时间</p> <p>private/public  二选一</p> <p>private：【默认】资源只能被用户浏览器缓存，不允许任何代理理服务器缓存。在实际开发当中，对于一些含有用户信息的HTML，通常都要设置这个字段值，避免代理服务器(CDN)缓存；</p> <p>public: 浏览器和代理服务器都可缓存</p> <p>no-cache/no-store  二选一</p> <p>no-cache：设置了该字段需要先和服务端确认返回的资源是否发⽣生了变化，如果资源未发⽣生变化，则直接使⽤用缓存好的资源；
no-store：禁止任何缓存，发请求
s-maxage=：仅适⽤用于共享缓存(CDN)，优先级高于max-age或者Expires头；
max-stale[=]：设置了该字段表明客户端愿意接收已经过期的资源，但是不能超过给定的时间限制。</p> <div class="language- extra-class"><pre class="language-text"><code>Cache-control:max-age=10000,s-maxage=200000,public  // 后端控制，前端显示
</code></pre></div></li></ol></li> <li><p>协商缓存</p> <p>Last-Modified/If-Modified-Since</p> <p>如果有设置协商缓存，我们在首次请求的时候，返回的Response Headers会带有Last-Modified。当再 次请求没有命中强制缓存的时候，这个时候我们的Request Headers就会携带If-Modified-Since字段， 它的值就是我们第一次请求返回给我们的Last-Modified值。服务端接收到资源请求之后，根据If- Modified-Since的字段值和服务端资源最后的修改时间是否一致来判断资源是否有修改。如果没有修 改，则返回的状态码为304；如果有修改，则返回新的资源，状态码为200。</p> <p>ETag/If-None-Match</p> <p>服务端对Last-Modified标注的最后修改时间只能精确到秒级。如果某些⽂文件在1秒钟以内被修改多次的话，这个时候服务端⽆无法准确标注⽂文件的修改时间。 出现了Etag/If-None-Match. Etag根据文件的具体内容计算出hash值，更准确</p> <p><a href="https://juejin.cn/post/7127194919235485733" target="_blank" rel="noopener noreferrer">参考<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p><a href="https://juejin.cn/post/6844904100035821575" target="_blank" rel="noopener noreferrer">http<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></li></ol> <h3 id="event-loop"><a href="#event-loop" class="header-anchor">#</a> event loop</h3> <p><img src="/assets/img/5.1dd90435.png" alt="image-20200731181433669"></p> <p>任务队列： Microtask 优先级比Macrotask高</p> <p>Microtask微(小)任务: process.nextTick(node) &gt;Promise &gt; MutationObserver &gt; Macrotask</p> <p>Macrotask宏(大)任务: setTimeout、 setInterval、I/O、UI Rendering、script当中的所有代码、 setImmediate(Node)</p> <p>Microtask 当中的任务也是在执行栈当中的任务执行完成后再进行执行，执行的时候和Macrotask 有一些区别，Microtask 当中任务不会⼀个压入执行栈，而是所有任务直接压入栈中， 当 Microtask 当中的任务执行完毕后，然后我们再从 Macrotask 中取栈顶的第⼀个任务进行执行。</p> <p><a href="https://jakearchibald.com/2015/tasks-microtasks-queues-and-schedules/" target="_blank" rel="noopener noreferrer">视频<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h3 id="axios中断请求"><a href="#axios中断请求" class="header-anchor">#</a> axios中断请求</h3> <div class="language- extra-class"><pre class="language-text"><code>axios.cancelToken
</code></pre></div><p>请求拦截器token</p> <p>响应拦截器</p> <h3 id="axios-原理"><a href="#axios-原理" class="header-anchor">#</a> axios 原理</h3> <div class="language- extra-class"><pre class="language-text"><code>底层是实现 XMLHttpRequest()
返回 promise
</code></pre></div><h3 id="es6-数组对象扩展"><a href="#es6-数组对象扩展" class="header-anchor">#</a> es6 数组对象扩展</h3> <div class="language- extra-class"><pre class="language-text"><code>... 扩展运算符  ？.
</code></pre></div><h3 id="new做了什么-？"><a href="#new做了什么-？" class="header-anchor">#</a> new做了什么 ？</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token number">1.</span> 创建一个新对象
<span class="token number">2.</span> 把对象与构造函数通过原型型连接连接  obj<span class="token punctuation">.</span>__proto__ <span class="token operator">=</span> <span class="token class-name">Fn</span><span class="token punctuation">.</span>prototype
<span class="token number">3.</span> 将构造函数的<span class="token keyword">this</span>指向新对象   <span class="token function">fn</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span>
<span class="token keyword">function</span> <span class="token function">mynew</span><span class="token punctuation">(</span><span class="token parameter">Func<span class="token punctuation">,</span> <span class="token operator">...</span>args</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 1.创建一个新对象</span>
    <span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token comment">// 2.新对象原型指向构造函数原型对象</span>
    obj<span class="token punctuation">.</span>__proto__ <span class="token operator">=</span> <span class="token class-name">Func</span><span class="token punctuation">.</span>prototype
    <span class="token comment">// 3.将构建函数的this指向新对象</span>
    <span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token function">Func</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> args<span class="token punctuation">)</span>
    <span class="token comment">// 4.根据返回值判断</span>
    <span class="token keyword">return</span> result <span class="token keyword">instanceof</span> <span class="token class-name">Object</span> <span class="token operator">?</span> result <span class="token operator">:</span> obj
<span class="token punctuation">}</span>
</code></pre></div><h3 id="递归"><a href="#递归" class="header-anchor">#</a> 递归</h3> <div class="language- extra-class"><pre class="language-text"><code>原码 Object.defineProperty()  深拷贝
</code></pre></div><h3 id="可视区域"><a href="#可视区域" class="header-anchor">#</a> 可视区域</h3> <div class="language- extra-class"><pre class="language-text"><code>getBoundingClientRect
</code></pre></div><h3 id="大文件断点续传"><a href="#大文件断点续传" class="header-anchor">#</a> 大文件断点续传</h3> <div class="language- extra-class"><pre class="language-text"><code>使用md5实现文件唯一性
new FileReader() 读取文件，进行切割
new FormData()上传切割的文件
后台：根据传过来的md5,判断要从哪开始上传，返回数据给前端从第几次上传
</code></pre></div><h3 id="虚拟列表"><a href="#虚拟列表" class="header-anchor">#</a> 虚拟列表</h3> <div class="language- extra-class"><pre class="language-text"><code>首次渲染只加载首屏
滚动时监听滚动高度，
</code></pre></div><h3 id="defer-async"><a href="#defer-async" class="header-anchor">#</a> defer async</h3> <div class="language- extra-class"><pre class="language-text"><code>defer 立即下载，延迟执行  vue打包使用
async 立即下载并执行，不保证执行顺序
</code></pre></div><h3 id="数组10万数据差异"><a href="#数组10万数据差异" class="header-anchor">#</a> 数组10万数据差异</h3> <p>利用索引获取，没差异</p> <h3 id="symbol"><a href="#symbol" class="header-anchor">#</a> symbol</h3> <p>表示独一无二，防止命名冲突</p> <p>用于swtich case 'triangle'  // 替换掉这个</p> <h3 id="js小数计算"><a href="#js小数计算" class="header-anchor">#</a> js小数计算</h3> <p>乘以10的n次幂，计算完再除回去</p> <h3 id="代码题"><a href="#代码题" class="header-anchor">#</a> 代码题</h3> <div class="language- extra-class"><pre class="language-text"><code>var num = 8
var num = 10 
console.log(num) // 10
</code></pre></div><h3 id="跨域"><a href="#跨域" class="header-anchor">#</a> 跨域</h3> <p><img src="https://raw.githubusercontent.com/gyz418/images/main/md/1.png" alt="图片"></p> <p>协议、域名、端口号任意一个不同则跨域</p> <p>三个标签允许跨域</p> <div class="language- extra-class"><pre class="language-text"><code>&lt;img src = xxx&gt;
&lt;link href = xxx&gt;
&lt;script src = xxx&gt;
</code></pre></div><p><a href="https://juejin.cn/post/6844903767226351623" target="_blank" rel="noopener noreferrer">参考<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h2 id="vue"><a href="#vue" class="header-anchor">#</a> vue</h2> <h3 id="vue2原理"><a href="#vue2原理" class="header-anchor">#</a> vue2原理</h3> <div class="language- extra-class"><pre class="language-text"><code>Object.defineProperty(obj,key,{
get(){ dep.addDep()}
set(){ dep.notify()}
})
compiler时，初始化DOM一次，顺便监听new Watcher
</code></pre></div><h3 id="子组件和父组件的执行顺序"><a href="#子组件和父组件的执行顺序" class="header-anchor">#</a> 子组件和父组件的执行顺序</h3> <div class="language- extra-class"><pre class="language-text"><code>父create 子create mounted 父mounted
</code></pre></div><h3 id="vnode好处"><a href="#vnode好处" class="header-anchor">#</a> vnode好处</h3> <div class="language- extra-class"><pre class="language-text"><code>Vnode频繁修改最后一次性更新真实dom，减少重绘
</code></pre></div><h3 id="v-model原理"><a href="#v-model原理" class="header-anchor">#</a> v-model原理</h3> <div class="language- extra-class"><pre class="language-text"><code>&lt;input type=&quot;text&quot; :value=&quot;username&quot; @input=&quot;username=$event.target.value&quot;
</code></pre></div><h3 id="provide-inject"><a href="#provide-inject" class="header-anchor">#</a> provide/inject</h3> <p>inject接收 非响应式</p> <h3 id="watch-和computed区别"><a href="#watch-和computed区别" class="header-anchor">#</a> watch 和computed区别</h3> <div class="language- extra-class"><pre class="language-text"><code>computed 计算属性是基于它们的响应式依赖进行缓存的，多次调用，只在相关响应式依赖发生改变时它们才会重新求值。
computed: {
  now: function () {
    return Date.now()  // 非响应式，计算属性不再更新
  }
}
不希望有缓存，用方法来替代
watch是属性监听，没有缓存。
当需要在数据变化时执行异步或开销较大的操作时
</code></pre></div><h3 id="v-for-v-if一起用弊端"><a href="#v-for-v-if一起用弊端" class="header-anchor">#</a> v-for v-if一起用弊端</h3> <div class="language- extra-class"><pre class="language-text"><code>vue2 v-for优先级高，循环会一直if  不停地创建销毁dom会卡顿    说是这样，代码还是这样写
vue3 v-if高。。
</code></pre></div><h3 id="动态组件"><a href="#动态组件" class="header-anchor">#</a> 动态组件</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">cms</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'xx'</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="vue组件data为什么必须是函数？"><a href="#vue组件data为什么必须是函数？" class="header-anchor">#</a> Vue组件data为什么必须是函数？</h3> <div class="language- extra-class"><pre class="language-text"><code>组件可以复用，js对象是引用关系，如果data是对象，那子组件的data属性值会互相污染
</code></pre></div><h3 id="vue-use"><a href="#vue-use" class="header-anchor">#</a> vue.use</h3> <div class="language- extra-class"><pre class="language-text"><code>Vue.use(xx) 
插件必须有个install方法
安装Vue插件，会提供Vue实例作为参数，方便插件在Vue的prototype上添加属性、方法
vue-router一定要Vue.use(router)？ 因为在Vue的prototype上添加了 $route等
</code></pre></div><p><a href="https://juejin.cn/post/6844903946343940104" target="_blank" rel="noopener noreferrer">参考<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h3 id="nexttick原理"><a href="#nexttick原理" class="header-anchor">#</a> nextTick原理</h3> <div class="language-js extra-class"><pre class="language-js"><code>Vue 在更新 <span class="token constant">DOM</span> 时是异步执行的
<span class="token comment">// 修改数据</span>
vm<span class="token punctuation">.</span>msg <span class="token operator">=</span> <span class="token string">'Hello'</span>
<span class="token comment">// DOM 还没有更新</span>
Vue<span class="token punctuation">.</span><span class="token function">nextTick</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// DOM 更新了</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
数据变动时，组件不会立即重新渲染，当刷新队列时，组件会在下一个事件循环中更新。vue内部会尝试使用原生的promise<span class="token punctuation">.</span>then<span class="token punctuation">,</span> mutationObserver <span class="token punctuation">,</span> setImmediate<span class="token punctuation">,</span><span class="token function">如果环境不支持，会采用setTimeout</span><span class="token punctuation">(</span>fn<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span>来代替
v<span class="token operator">-</span><span class="token keyword">for</span>渲染数据后，<span class="token keyword">this</span><span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>item，此时需要nextTick<span class="token punctuation">,</span>等dom更新完

vue3直接用promise下执行nextTick
</code></pre></div><h3 id="vue-router"><a href="#vue-router" class="header-anchor">#</a> vue-router</h3> <div class="language- extra-class"><pre class="language-text"><code>hash模式
监听hashchange
history模式
监听popstate事件
</code></pre></div><p>原理</p> <div class="language- extra-class"><pre class="language-text"><code>1. 监听hashChange，把当前链接保存到 data里面
2. 解析传入的路由组件，{}
3. 创建全局组件 router-view,  用render函数来渲染,data里面的对应的组件
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 实现vue-router</span>
<span class="token keyword">let</span> Vue<span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">VueRouter</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span> <span class="token punctuation">(</span><span class="token parameter">$options</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token keyword">this</span><span class="token punctuation">.</span>$options <span class="token operator">=</span> $options<span class="token punctuation">;</span>   <span class="token comment">//  [ routes:{path:'/',component:Home}]</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>routeMap <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

    <span class="token comment">// 3.利用vue响应式</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>app <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      data<span class="token operator">:</span> <span class="token punctuation">{</span>
        current<span class="token operator">:</span> <span class="token string">'/'</span>  <span class="token comment">// 当前路径</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// 2.init()</span>
  <span class="token function">init</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 绑定浏览器事件</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">bindEvents</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 解析路由配置： 为router-view做准备</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">createRouteMap</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>$options<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 4.创建router-link和router-view</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">initComponent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">bindEvents</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'hashchange'</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">onHashChange</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'load'</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">onHashChange</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">onHashChange</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>app<span class="token punctuation">.</span>current <span class="token operator">=</span> window<span class="token punctuation">.</span>location<span class="token punctuation">.</span>hash<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token string">'/'</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">createRouteMap</span> <span class="token punctuation">(</span><span class="token parameter">options</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    options<span class="token punctuation">.</span>routes<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token comment">// ['/']:{path:'/',component:Home}</span>
      <span class="token comment">// []只是括起来而已</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>routeMap<span class="token punctuation">[</span>item<span class="token punctuation">.</span>path<span class="token punctuation">]</span> <span class="token operator">=</span> item<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">initComponent</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 声明两个全局组件</span>
    Vue<span class="token punctuation">.</span><span class="token function">component</span><span class="token punctuation">(</span><span class="token string">'router-link'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
      props<span class="token operator">:</span> <span class="token punctuation">{</span>
        to<span class="token operator">:</span> String
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token function">render</span> <span class="token punctuation">(</span><span class="token parameter">h</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">//       &lt;a  href=&quot;#to&quot;&gt;xxx&lt;/a&gt;</span>
        <span class="token keyword">return</span> <span class="token function">h</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>attrs<span class="token operator">:</span> <span class="token punctuation">{</span>href<span class="token operator">:</span> <span class="token string">'#'</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>to<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$slots<span class="token punctuation">.</span>default<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// this.$slots.default= xxx ?</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    Vue<span class="token punctuation">.</span><span class="token function">component</span><span class="token punctuation">(</span><span class="token string">'router-view'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
      <span class="token function-variable function">render</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">h</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>  <span class="token comment">// 渲染组件</span>
        <span class="token keyword">const</span> Comp <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>routeMap<span class="token punctuation">[</span><span class="token keyword">this</span><span class="token punctuation">.</span>app<span class="token punctuation">.</span>current<span class="token punctuation">]</span><span class="token punctuation">.</span>component<span class="token punctuation">;</span>  <span class="token comment">// 取出组件</span>
        <span class="token keyword">return</span> <span class="token function">h</span><span class="token punctuation">(</span>Comp<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 1.作为插件</span>
VueRouter<span class="token punctuation">.</span><span class="token function-variable function">install</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">_Vue</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token comment">//Vue插件必须有个install方法,第一个参数为Vue构造器，</span>
  Vue <span class="token operator">=</span> _Vue<span class="token punctuation">;</span> <span class="token comment">// 保存给上面new Vue()使用</span>

  <span class="token comment">// 混入：就是扩展Vue</span>
  Vue<span class="token punctuation">.</span><span class="token function">mixin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token function">beforeCreate</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token comment">// 为什么是 beforeCreate()?</span>
      <span class="token comment">// 只执行一次</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>$options<span class="token punctuation">.</span>router<span class="token punctuation">)</span> <span class="token punctuation">{</span>   <span class="token comment">// 拿到的是 new Vue({ router}) 中的router</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>$options<span class="token punctuation">.</span>router<span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> VueRouter<span class="token punctuation">;</span>

</code></pre></div><h3 id="预渲染"><a href="#预渲染" class="header-anchor">#</a> 预渲染</h3> <p>多个html静态页，其他是动态vue ,prerender-spa-plugin  利用puppeteer爬取页面 headless chrome 把指定路由页面渲染成html</p> <h3 id="ssr"><a href="#ssr" class="header-anchor">#</a> ssr</h3> <div class="language- extra-class"><pre class="language-text"><code>没有Mounted
</code></pre></div><h3 id="vuex-面试"><a href="#vuex-面试" class="header-anchor">#</a> vuex 面试</h3> <div class="language- extra-class"><pre class="language-text"><code>state
mutation
action 提交mutation dispatch 其他action

getter 
</code></pre></div><h3 id="vite原理"><a href="#vite原理" class="header-anchor">#</a> vite原理</h3> <div class="language- extra-class"><pre class="language-text"><code>1.利用浏览器的ESM  直接使用import
2.利用esbuild打包js  go语言，多线程
3.生产环境用rollup
浏览器遇到import会发起请求， koa拦截请求，返回esm给浏览器

vite预构建 把commonjs转esm 缓存到.vite, 减少模块和请求数据 lodash库
</code></pre></div><h3 id="webpack5插件"><a href="#webpack5插件" class="header-anchor">#</a> webpack5插件</h3> <p>类，有个apply方法，有个hooks叫done</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">TestPlugin</span><span class="token punctuation">{</span>
  <span class="token function">apply</span><span class="token punctuation">(</span><span class="token parameter">compiler</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    compiler<span class="token punctuation">.</span>hooks<span class="token punctuation">.</span>done<span class="token punctuation">.</span><span class="token function">tap</span><span class="token punctuation">(</span><span class="token string">'demoPlugin'</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token parameter">compilation<span class="token punctuation">,</span>callback</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'demoPlugin: 编译结束了'</span><span class="token punctuation">)</span>   
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="babel插件"><a href="#babel插件" class="header-anchor">#</a> babel插件</h3> <div class="language-js extra-class"><pre class="language-js"><code>module<span class="token punctuation">.</span><span class="token function-variable function">exports</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">babel</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
<span class="token keyword">return</span><span class="token punctuation">{</span>
visitor<span class="token operator">:</span><span class="token punctuation">{</span>
  <span class="token comment">// visitor对象</span>
<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="pinia"><a href="#pinia" class="header-anchor">#</a> pinia</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 组合式api   新写法</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> useCounterStore <span class="token operator">=</span> <span class="token function">defineStore</span><span class="token punctuation">(</span><span class="token string">'counter'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> count <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
  <span class="token keyword">function</span> <span class="token function">increment</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    count<span class="token punctuation">.</span>value<span class="token operator">++</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">return</span> <span class="token punctuation">{</span> count<span class="token punctuation">,</span> increment <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="rollup3"><a href="#rollup3" class="header-anchor">#</a> rollup3</h3> <div class="language- extra-class"><pre class="language-text"><code>tree shaking 模块化
</code></pre></div><h3 id="vue3原理-mini版"><a href="#vue3原理-mini版" class="header-anchor">#</a> vue3原理 mini版</h3> <div class="language- extra-class"><pre class="language-text"><code>vnode+
</code></pre></div><h3 id="vnode"><a href="#vnode" class="header-anchor">#</a> vnode</h3> <div class="language- extra-class"><pre class="language-text"><code>vm._render() 生成vnode   class VNode(tag,children,text)
vm._update() 生成dom 
</code></pre></div><h3 id="vue3比vue2好在哪里"><a href="#vue3比vue2好在哪里" class="header-anchor">#</a> vue3比vue2好在哪里</h3> <div class="language- extra-class"><pre class="language-text"><code>proxy 监听对象
tree shaking 按需引入
ts
vue3加了一些静态标记，优化diff
最长递增子序列
</code></pre></div><h3 id="vue-key作用"><a href="#vue-key作用" class="header-anchor">#</a> vue key作用</h3> <div class="language- extra-class"><pre class="language-text"><code>vnode的唯一id,更快，更准确地找到vnode节点， diff优化
v-for 使用‘就地更新’策略
</code></pre></div><h3 id="vue-指令"><a href="#vue-指令" class="header-anchor">#</a> vue 指令</h3> <div class="language- extra-class"><pre class="language-text"><code>scroll-fixed   inserted unbind
</code></pre></div><h2 id="css"><a href="#css" class="header-anchor">#</a> css</h2> <h3 id="bfc"><a href="#bfc" class="header-anchor">#</a> BFC</h3> <div class="language- extra-class"><pre class="language-text"><code>block formating context 块级格式化上下文
两个div margin会重叠，套个div就不会了  float
</code></pre></div><h2 id="算法"><a href="#算法" class="header-anchor">#</a> 算法</h2> <h3 id="动态规划"><a href="#动态规划" class="header-anchor">#</a> 动态规划</h3> <div class="language- extra-class"><pre class="language-text"><code>钱有1 3 4 三种硬币，找6块钱
先给1块钱，再给1块钱，再给1块钱，发现可以用1个3取代，最后是两张3块钱 【3，3】
</code></pre></div><h3 id="贪心算法"><a href="#贪心算法" class="header-anchor">#</a> 贪心算法</h3> <div class="language- extra-class"><pre class="language-text"><code>钱有1 3 4 三种硬币，找6块钱
只考虑局部最优解，先找最大的

找钱是 【4,1,1】 先找4块钱, 但是最优解是 两张3块钱，所以，贪心算法有时不是最好的结果
</code></pre></div><h3 id="冒泡排序"><a href="#冒泡排序" class="header-anchor">#</a> 冒泡排序</h3> <div class="language- extra-class"><pre class="language-text"><code>相邻比较，大的排右边
</code></pre></div><h3 id="二分查找"><a href="#二分查找" class="header-anchor">#</a> 二分查找</h3> <div class="language- extra-class"><pre class="language-text"><code>取中间值查找
</code></pre></div><h3 id="插入排序"><a href="#插入排序" class="header-anchor">#</a> 插入排序</h3> <div class="language- extra-class"><pre class="language-text"><code>假设第一个数已排好序，从后面取出值插入到已排好序的数组中
</code></pre></div><p>https://www.cnblogs.com/onepixel/articles/7674659.html</p> <h2 id="react"><a href="#react" class="header-anchor">#</a> react</h2> <div class="language-react extra-class"><pre class="language-text"><code>const [count, setCount] = useState(0);
useEffect(() =&gt; {  document.title = `You clicked ${count} times`;  });
默认useState变化时就执行useEffect，可传数组控制。
Dva
{
    state:{
        num:666
    },
    reducers:{
        addNum(state){
            state.num++
        }
    },
    effects:{
      * geetNum()        
    }
}
Reducers同步
Effects异步  generator函数
Yield (put  call select)  call是异步  put类似dispatch  select是获取state数据
视图dispatch  reducers或effects
订阅subscriptions 初始化执行
 
StrictMode启用严格模式，检测过时的api等，触发警告。
Map和forEach
React.children.map可以处理children为null或undefined的情况

高阶组件
使用装饰模式，不需要改变被装饰对象本身
类组件和函数组件
函数组件无状态

React hooks好处
简化组件，复用状态逻辑清晰
受控组件.input组件要绑定change组件 多个input会很麻烦
非受控组件  用ref来获取dom值

函数组件没有实例，不能用ref

React-router
Hash路由  hashchange
H5 history路由   history.pushState和replaceState

事件流
先捕获再冒泡
从html到元素再回到html.  默认false冒泡阶段处理程序
e.stopPropagation()

getComputedStyle()

SetState是异步更新的，可传入回调函数获取最新值
event loop事件循环
useContext给子孙组件传值
Export  context=React.createComtext('')
&lt;Context.provider  value={'fff'}&gt;
&lt;ComponentC/&gt;
&lt;/context.provider&gt;

E组件
&lt;context.consumer&gt;
箭头函数
&lt;/...&gt;
const  user= useContext(context)
传入context返回当前值，子组件用时简单点


useMemo  缓存函数返回值
useCallback  缓存函数
const  a  = useMemo(()=&gt;复杂计算，【count1】)  有缓存值


vue2响应式原理
compiler编译html
dep依赖收集
Object.defineProperty  get时依赖收集  setter时派发更新  
页面不直接渲染new watcher，在里面执行渲染
</code></pre></div><h2 id="webpack"><a href="#webpack" class="header-anchor">#</a> webpack</h2> <div class="language- extra-class"><pre class="language-text"><code>webpack
tree shaking树摇  必需es6模块化，生产环境，sideEffects保留css

Loader是函数
file-loader
url-loader处理图片
babel-loader  转es5
ts-loader  sass  css  eslint
Plugin插件
html-webpack-plugin
terser   压缩js旧的用uglifyjs
mini-css
webpack-bundle-analyzer分析体积
copy插件  clean
指定mode为开发模式
define-plugin定义环境变量

文件哈希值
contenthash根据内容生成hash   css
chunkhash   根据打包来源，就是打包入口  js

不打包cdn
配置externals，并在html手动引入cdn

多进程打包
thread-loader配置进程个数
webpack5

webpack-chain链式配置
webpack-merge合并配置
打包node_module  optimization  splitChunks

cache-loader  缓存到硬盘
gzip压缩  compression插件
enforce:pre优先执行loader

dart语法
</code></pre></div><h3 id="webpack热更新原理"><a href="#webpack热更新原理" class="header-anchor">#</a> webpack热更新原理</h3> <div class="language- extra-class"><pre class="language-text"><code>express web socket
</code></pre></div><h3 id="webpack插件"><a href="#webpack插件" class="header-anchor">#</a> webpack插件</h3> <div class="language- extra-class"><pre class="language-text"><code>clean copy html  gzip  mini-css  bundle-analyzer vconsole
</code></pre></div><h2 id="微信小程序"><a href="#微信小程序" class="header-anchor">#</a> 微信小程序</h2> <div class="language- extra-class"><pre class="language-text"><code>Wxml   Wxss  rpx单位 Js   Json
view button text
app.json全局配置  路由，tabBar  数量234，主题色
app.js入口文件
globalData全局变量
env   getAccountInfoSync()
wx.login() 拿到code再去后端获取openId  unionId
bindinput
data-type=username  绑定为data属性
  获取 username=e.target.dataset.type    
输入的值 e.detail.value
bindtap点击
navigateTo跳转

Open-data获取用户名和头像
onLoad页面加载 ,只调用一次，  onShow页面显示  这里请求数据
wx.request
catchtap可以阻止冒泡
集合权限。
setData
云函数  
taro  kbone uni-app
项目配置json  cloudcunctionRoot
wx.cloud.callFunction
消息推送  订阅消息
触发器
</code></pre></div><h2 id="其他"><a href="#其他" class="header-anchor">#</a> 其他</h2> <h3 id="错误监控"><a href="#错误监控" class="header-anchor">#</a> 错误监控</h3> <div class="language- extra-class"><pre class="language-text"><code>export default {
  install: function (Vue) {
    Vue.config.errorHandler = (err, vm, info) =&gt; {
      uploadOSS(`err：${err}\ninfo：${info}\n`)
    }
  },
}
window.onerror = function (message, url, row, col, error) 
window.addEventListener('unhandledrejection', function(err) {
  console.log(err)  // 捕获 img url错误
})
sentry 监控
</code></pre></div><h3 id="性能监控"><a href="#性能监控" class="header-anchor">#</a> 性能监控</h3> <div class="language- extra-class"><pre class="language-text"><code>window.performance  页面加载时间、
</code></pre></div><h3 id="前端安全"><a href="#前端安全" class="header-anchor">#</a> 前端安全</h3> <div class="language- extra-class"><pre class="language-text"><code>xss: 
csp 内容安全策略（禁止内联脚本，禁止加载外域代码）
&lt;meta http-equiv=&quot;Content-Security-Policy&quot; content=&quot;script-src 'self' https://apis.google.com&quot;&gt;

csrf 跨站请求伪造
用户登陆a网站后，保存了cookie， 攻击者引导用户访问b网站， B网站向A网站发起请求，带cookie
接口验证origin header
或者生成csrf token 隐藏在页面，请求时带上

点击劫持
用iframe嵌入网站，诱导用户点击。
设置cookie的httpOnly属性
防iframe if(top!==self){top.location = self.location}  都是window
http设置 x-frame-options 为deny 或指定网站
</code></pre></div><h3 id="h5秒开方案"><a href="#h5秒开方案" class="header-anchor">#</a> h5秒开方案</h3> <p>把h5静态资源放app本地</p></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.6f322a7c.js" defer></script><script src="/assets/js/2.5281df64.js" defer></script><script src="/assets/js/12.ad66bd03.js" defer></script>
  </body>
</html>
