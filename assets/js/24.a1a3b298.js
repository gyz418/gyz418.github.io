(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{383:function(n,e,t){"use strict";t.r(e);var s=t(42),o=Object(s.a)({},(function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("ContentSlotsDistributor",{attrs:{"slot-key":n.$parent.slotKey}},[t("h1",{attrs:{id:"开发笔记"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#开发笔记"}},[n._v("#")]),n._v(" 开发笔记")]),n._v(" "),t("ol",[t("li",[n._v("使用会管家最初的模板")]),n._v(" "),t("li",[t("code",[n._v("rem")]),n._v("布局")])]),n._v(" "),t("h3",{attrs:{id:"tip"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#tip"}},[n._v("#")]),n._v(" tip")]),n._v(" "),t("ol",[t("li",[n._v("本地存储只能存字符串，存不了boolean")])]),n._v(" "),t("h3",{attrs:{id:"js"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#js"}},[n._v("#")]),n._v(" js")]),n._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[n._v("  // dom 更新后再滚动\n s.$nextTick(() => {  \n    document.body.scrollTop = document.body.scrollHeight;\n })\n  \n   // dom 更新后再滚动\n s.$nextTick(() => { \n   let boxOut = document.querySelector(\".overflow-style\"),  // 固定高\n   boxContent = document.querySelector(\".js-allContent\");   // 内容高\n   boxOut.scrollTop = boxContent.offsetHeight - boxOut.offsetHeight;\n })\n  \n   // 解决ios返回白屏\n s.$nextTick(() => {    // 获取数据后，滚动两次，解决返回详情页白屏的问题\n    window.scrollTo(0, 1)\n    window.scrollTo(0, 0)\n })\n \n // 滚动插件\n import BScroll from 'better-scroll'\n \n \n // 微信扫一扫\n wxScan () {\n   let s = this\n   let obj = {\n     Cmd: '10420',\n     Body: {\n       ShareUrl: window.location.href.replace(/#.*/, '')\n     }\n   }\n   axiosPost({\n     data: {\n       RequestData: obj\n     },\n     onSuccess (res) {\n       res = res.Body\n       wx.config({\n         debug: false, // 开启调试模式,调用的所有api的返回值会在客户端alert出来，若要查看传入的参数，可以在pc端打开，参数信息会通过log打出，仅在pc端时才会打印。\n         appId: res.AppId, // 必填，企业号的唯一标识，此处填写企业号corpid\n         timestamp: res.Timestamp, // 必填，生成签名的时间戳\n         nonceStr: res.NonceStr, // 必填，生成签名的随机串\n         signature: res.Signature,// 必填，签名，见附录1\n         jsApiList: ['scanQRCode'] // 必填，需要使用的JS接口列表，所有JS接口列表见附录2\n       })\n       wx.ready(function () {\n         wx.scanQRCode({\n           needResult: 1, // 默认为0，扫描结果由微信处理，1则直接返回扫描结果，\n           scanType: ['qrCode', 'barCode'], // 可以指定扫二维码还是一维码，默认二者都有\n           success: function (res) {\n             var result = res.resultStr // 当needResult 为 1 时，扫码返回的结果\n             s.checkTicketApi(result)\n           }\n         })\n       })\n     },\n     onFailure (res) {\n       console.log('接口10420', res.Message)\n     }\n   })\n },\n \n   // 复制手机号码\n   this.newPhone = this.newPhone.replace(/^(\\+?86)/, '')  // 去掉 +86\n   this.newPhone = this.newPhone.replace(/\\s+/g, '') // 去掉 ios 空格\n   console.log(this.newPhone.length)\n   this.newPhone = this.newPhone.replace(/\\D/g,'')   // ios 复制号码去掉前后非数字\n\n    // 阻止图片默认事件   \n   <img class=\"wx-share\" src=\"../assets/img/326.jpg\" alt=\"\" @click.prevent>\n   \n   //vue时间插件 ios new Date('y-m-d 00：00') 加上小时、分钟会报错，默认08：00\n   this.timeObj.startDate = new Date('2018-09-01')  // 日期插件使用当前日期\n    ios   new Date('2019-07-01 00:00:00') 会报错\n    new Date('2019-07-01') 默认是 new Date('2019-07-01 08:00:00')\n    要再减去8个小时\n    或者用  new Date('2019/07/01 00:00:00').getTime()\n\n   // canvas 合并微信头像要加时间戳   \n   this.userData.HeadImgUrl + \"?v=\" + new Date()   // 加时间戳解决。。\n   \n   // 百度统计 \n   index.html\n   //  _hmt代码\n    var _hmt = _hmt || [];\n     // window._hmt = _hmt\n       (function() {\n         var hm = document.createElement(\"script\");\n         hm.src = \"https://hm.baidu.com/hm.js?3c187470b692e2d95f347970c5f35210\";\n         var s = document.getElementsByTagName(\"script\")[0];\n         s.parentNode.insertBefore(hm, s);\n       })(); \n      \n   js\n     _hmt && _hmt.push(['_trackEvent', '分享', '点击']);   // 百度统计  点击事件   \n   \n    // 获取微信授权 code\n     getWXCode () {\n     let code='';\n     if (!getRequestParameters().code) {\n        const appid = 'wx41e662e96007e512',\n        redirect_uri = encodeURIComponent(window.location.href.replace(/\\?.*/, '')),\n        scope = 'snsapi_userinfo'; // 不弹页面   snsapi_userinfo 弹页面\n        /**\n         *  静默授权  snsapi_base\n         *  snsapi_userinfo 弹出授权页面， 如果用户已关注，也是静默授权不弹窗\n         **/\n        let url = 'https://open.weixin.qq.com/connect/oauth2/authorize?appid=' + appid + '&redirect_uri=' + redirect_uri + '&response_type=code&scope=' + scope + '#wechat_redirect';\n        window.location.replace(url);\n     }else{\n        code=getRequestParameters().code;\n     }\n     return code;\n     }\n     \n     //  @blur=\"gotoView\"\n     // 解决 ios 点击键盘完成后，点击事件无效\n     gotoView (event) {\n       let This = event.currentTarget;\n       setTimeout(() => {\n         This.scrollIntoView({\n           block: 'end',\n           behavior: 'smooth'\n         });\n       }, 500);\n     },\n           \n     window.scrollTo(0, 0);  // 回到顶部\n     \n     // 滚动条顶部\n     window.onbeforeunload = function () {\n       document.documentElement.scrollTop = 0;  //ie下\n       document.body.scrollTop = 0;  //非ie\n     };\n     \n     // js \n     const arr = ['123','456','667']\n     arr.map(Number);                 // [123,456,667]\n     \n     const arr2 = [1,2,[3,4],[5,6,7]]\n     arr2.flat();                     // [1,2,3,4,5,6,7]\n     \n     var paramsString = \"q=URLUtils.searchParams&topic=api\";\n     var searchParams = new URLSearchParams(paramsString);\n     \n     searchParams.get('topic')  // api \n\n\n")])])]),t("h3",{attrs:{id:"已备份会江项目"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#已备份会江项目"}},[n._v("#")]),n._v(" 已备份会江项目")])])}),[],!1,null,null,null);e.default=o.exports}}]);